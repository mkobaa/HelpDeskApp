{"version":3,"file":"users-DRTWlAv4.js","sources":["../../../../../../../app/api/users/users.js"],"sourcesContent":["export const getUsers = async () => {\r\n    const token = useCookie('auth_token')\r\n    let bearer = token.value || ''\r\n    try {\r\n        bearer = decodeURIComponent(bearer)\r\n    } catch {\r\n        // keep original if decoding fails\r\n    }\r\n\r\n    const response = await fetch('http://localhost:8000/api/users', {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${bearer}`\r\n        }\r\n    })\r\n\r\n    const raw = await response.json()\r\n    if (!response.ok) {\r\n        throw raw\r\n    }\r\n\r\n    // Normalize to an array for the table component\r\n    if (Array.isArray(raw)) return raw\r\n    if (Array.isArray(raw.data)) return raw.data\r\n    if (Array.isArray(raw.users)) return raw.users\r\n\r\n    return []\r\n}\r\n\r\nexport const getUser = async (id) => {\r\n    const token = useCookie('auth_token')\r\n    let bearer = token.value || ''\r\n    try {\r\n        bearer = decodeURIComponent(bearer)\r\n    } catch {\r\n        // keep original if decoding fails\r\n    }\r\n\r\n    const response = await fetch(`http://localhost:8000/api/users/${id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${bearer}`\r\n        }\r\n    })\r\n\r\n    const raw = await response.json()\r\n    if (!response.ok) {\r\n        throw raw\r\n    }\r\n\r\n    return raw?.data || raw\r\n}\r\n\r\n\r\n\r\nexport const getTechnicians = async () => {\r\n    const token = useCookie('auth_token')\r\n    let bearer = token.value || ''\r\n    try {\r\n        bearer = decodeURIComponent(bearer)\r\n    } catch {\r\n        // keep original if decoding fails\r\n    }\r\n\r\n    const response = await fetch('http://localhost:8000/api/users/technicians', {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${bearer}`\r\n        }\r\n    })\r\n\r\n    const raw = await response.json()\r\n    if (!response.ok) {\r\n        throw raw\r\n    }\r\n\r\n    // Normalize to an array for the table component\r\n    if (Array.isArray(raw)) return raw\r\n    if (Array.isArray(raw.data)) return raw.data\r\n    if (Array.isArray(raw.users)) return raw.users\r\n\r\n    return []\r\n}\r\n\r\n\r\nexport const getTechnician = async (id) => {\r\n    const token = useCookie('auth_token')\r\n    let bearer = token.value || ''\r\n    try {\r\n        bearer = decodeURIComponent(bearer)\r\n    } catch {\r\n        // keep original if decoding fails\r\n    }\r\n\r\n    const response = await fetch(`http://localhost:8000/api/users/technicians/${id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${bearer}`\r\n        }\r\n    })\r\n\r\n    const raw = await response.json()\r\n    if (!response.ok) {\r\n        throw raw\r\n    }\r\n\r\n    return raw?.data || raw\r\n}"],"names":[],"mappings":";AAAY,MAAC,WAAW,YAAY;AAChC,QAAM,QAAQ,UAAU,YAAY;AACpC,MAAI,SAAS,MAAM,SAAS;AAC5B,MAAI;AACA,aAAS,mBAAmB,MAAM;AAAA,EACtC,QAAQ;AAAA,EAER;AAEA,QAAM,WAAW,MAAM,MAAM,mCAAmC;AAAA,IAC5D,QAAQ;AAAA,IACR,SAAS;AAAA,MACL,QAAQ;AAAA,MACR,gBAAgB;AAAA,MAChB,eAAe,UAAU,MAAM;AAAA,IAC3C;AAAA,EACA,CAAK;AAED,QAAM,MAAM,MAAM,SAAS,KAAI;AAC/B,MAAI,CAAC,SAAS,IAAI;AACd,UAAM;AAAA,EACV;AAGA,MAAI,MAAM,QAAQ,GAAG,EAAG,QAAO;AAC/B,MAAI,MAAM,QAAQ,IAAI,IAAI,EAAG,QAAO,IAAI;AACxC,MAAI,MAAM,QAAQ,IAAI,KAAK,EAAG,QAAO,IAAI;AAEzC,SAAO,CAAA;AACX;AAEY,MAAC,UAAU,OAAO,OAAO;AACjC,QAAM,QAAQ,UAAU,YAAY;AACpC,MAAI,SAAS,MAAM,SAAS;AAC5B,MAAI;AACA,aAAS,mBAAmB,MAAM;AAAA,EACtC,QAAQ;AAAA,EAER;AAEA,QAAM,WAAW,MAAM,MAAM,mCAAmC,EAAE,IAAI;AAAA,IAClE,QAAQ;AAAA,IACR,SAAS;AAAA,MACL,QAAQ;AAAA,MACR,gBAAgB;AAAA,MAChB,eAAe,UAAU,MAAM;AAAA,IAC3C;AAAA,EACA,CAAK;AAED,QAAM,MAAM,MAAM,SAAS,KAAI;AAC/B,MAAI,CAAC,SAAS,IAAI;AACd,UAAM;AAAA,EACV;AAEA,SAAO,KAAK,QAAQ;AACxB;AAIY,MAAC,iBAAiB,YAAY;AACtC,QAAM,QAAQ,UAAU,YAAY;AACpC,MAAI,SAAS,MAAM,SAAS;AAC5B,MAAI;AACA,aAAS,mBAAmB,MAAM;AAAA,EACtC,QAAQ;AAAA,EAER;AAEA,QAAM,WAAW,MAAM,MAAM,+CAA+C;AAAA,IACxE,QAAQ;AAAA,IACR,SAAS;AAAA,MACL,QAAQ;AAAA,MACR,gBAAgB;AAAA,MAChB,eAAe,UAAU,MAAM;AAAA,IAC3C;AAAA,EACA,CAAK;AAED,QAAM,MAAM,MAAM,SAAS,KAAI;AAC/B,MAAI,CAAC,SAAS,IAAI;AACd,UAAM;AAAA,EACV;AAGA,MAAI,MAAM,QAAQ,GAAG,EAAG,QAAO;AAC/B,MAAI,MAAM,QAAQ,IAAI,IAAI,EAAG,QAAO,IAAI;AACxC,MAAI,MAAM,QAAQ,IAAI,KAAK,EAAG,QAAO,IAAI;AAEzC,SAAO,CAAA;AACX;AAGY,MAAC,gBAAgB,OAAO,OAAO;AACvC,QAAM,QAAQ,UAAU,YAAY;AACpC,MAAI,SAAS,MAAM,SAAS;AAC5B,MAAI;AACA,aAAS,mBAAmB,MAAM;AAAA,EACtC,QAAQ;AAAA,EAER;AAEA,QAAM,WAAW,MAAM,MAAM,+CAA+C,EAAE,IAAI;AAAA,IAC9E,QAAQ;AAAA,IACR,SAAS;AAAA,MACL,QAAQ;AAAA,MACR,gBAAgB;AAAA,MAChB,eAAe,UAAU,MAAM;AAAA,IAC3C;AAAA,EACA,CAAK;AAED,QAAM,MAAM,MAAM,SAAS,KAAI;AAC/B,MAAI,CAAC,SAAS,IAAI;AACd,UAAM;AAAA,EACV;AAEA,SAAO,KAAK,QAAQ;AACxB;"}