{"file":"categories-nlYrqBCy.js","mappings":";AAAY,MAAC,gBAAgB,OAAO,OAAO,OAAO;AAC9C,QAAM,QAAQ,UAAU,YAAY;AACpC,MAAI,SAAS,MAAM,SAAS;AAC5B,MAAI;AACA,aAAS,mBAAmB,MAAM;AAAA,EACtC,QAAQ;AAAA,EAER;AAEA,MAAI,MAAM;AACV,MAAI,MAAM;AACN,WAAO,SAAS,mBAAmB,IAAI,CAAC;AAAA,EAC5C;AAEA,QAAM,WAAW,MAAM,MAAM,KAAK;AAAA,IAC9B,QAAQ;AAAA,IACR,SAAS;AAAA,MACL,QAAQ;AAAA,MACR,gBAAgB;AAAA,MAChB,eAAe,UAAU,MAAM;AAAA,IAC3C;AAAA,EACA,CAAK;AAED,QAAM,MAAM,MAAM,SAAS,KAAI;AAC/B,MAAI,CAAC,SAAS,IAAI;AACd,UAAM;AAAA,EACV;AAGA,MAAI,MAAM,QAAQ,GAAG,EAAG,QAAO;AAC/B,MAAI,MAAM,QAAQ,IAAI,IAAI,EAAG,QAAO,IAAI;AACxC,MAAI,MAAM,QAAQ,IAAI,UAAU,EAAG,QAAO,IAAI;AAE9C,SAAO,CAAA;AACX;AAIY,MAAC,cAAc,OAAO,OAAO;AACrC,QAAM,QAAQ,UAAU,YAAY;AACpC,MAAI,SAAS,MAAM,SAAS;AAC5B,MAAI;AACA,aAAS,mBAAmB,MAAM;AAAA,EACtC,QAAQ;AAAA,EAER;AACA,QAAM,WAAW,MAAM,MAAM,wCAAwC,EAAE,IAAI;AAAA,IACvE,QAAQ;AAAA,IACR,SAAS;AAAA,MACL,QAAQ;AAAA,MACR,gBAAgB;AAAA,MAChB,eAAe,UAAU,MAAM;AAAA,IAC3C;AAAA,EACA,CAAK;AACD,QAAM,MAAM,MAAM,SAAS,KAAI;AAC/B,MAAI,CAAC,SAAS,IAAI;AACd,UAAM;AAAA,EACV;AACA,SAAO,KAAK,QAAQ;AACxB;","names":[],"sources":["../../../../../../../app/api/categories/categories.js"],"sourcesContent":["export const getCategories = async (name = '') => {\r\n    const token = useCookie('auth_token')\r\n    let bearer = token.value || ''\r\n    try {\r\n        bearer = decodeURIComponent(bearer)\r\n    } catch {\r\n        // keep original if decoding fails\r\n    }\r\n\r\n    let url = 'http://localhost:8000/api/categories'\r\n    if (name) {\r\n        url += `?name=${encodeURIComponent(name)}`\r\n    }\r\n\r\n    const response = await fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${bearer}`\r\n        }\r\n    })\r\n\r\n    const raw = await response.json()\r\n    if (!response.ok) {\r\n        throw raw\r\n    }\r\n\r\n    // Normalize to an array for the table component\r\n    if (Array.isArray(raw)) return raw\r\n    if (Array.isArray(raw.data)) return raw.data\r\n    if (Array.isArray(raw.categories)) return raw.categories\r\n\r\n    return []\r\n}\r\n\r\n\r\n\r\nexport const getCategory = async (id) => {\r\n    const token = useCookie('auth_token')\r\n    let bearer = token.value || ''\r\n    try {\r\n        bearer = decodeURIComponent(bearer)\r\n    } catch {\r\n        // keep original if decoding fails\r\n    }\r\n    const response = await fetch(`http://localhost:8000/api/categories/${id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${bearer}`\r\n        }\r\n    })\r\n    const raw = await response.json()\r\n    if (!response.ok) {\r\n        throw raw\r\n    }\r\n    return raw?.data || raw\r\n}\r\n\r\n\r\n"],"version":3}