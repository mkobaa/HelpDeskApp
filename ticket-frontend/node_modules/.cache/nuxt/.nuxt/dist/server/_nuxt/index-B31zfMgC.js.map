{"version":3,"file":"index-B31zfMgC.js","sources":["../../../../../../../app/components/SupervisorDashboard.vue","../../../../../../../app/pages/supervisor/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\n\r\nimport { onMounted, onUnmounted, reactive } from 'vue'\r\nimport { getOpenTickets, getPendingTickets, getClosedTickets } from '~/api/stats/stats'\r\n\r\ntype Card = {\r\n  key: 'open' | 'pending' | 'closed'\r\n  label: string\r\n  value: number\r\n  icon: string\r\n  iconBg: string\r\n  badgeColor: string\r\n  dot: string\r\n}\r\n\r\nconst cards = reactive<Card[]>([\r\n  {\r\n    key: 'open',\r\n    label: 'Open tickets',\r\n    value: 0,\r\n    icon: 'i-lucide-flame',\r\n    iconBg: 'bg-amber-500',\r\n    badgeColor: 'amber',\r\n    dot: 'bg-amber-500'\r\n  },\r\n  {\r\n    key: 'pending',\r\n    label: 'Pending tickets',\r\n    value: 0,\r\n    icon: 'i-lucide-clock-3',\r\n    iconBg: 'bg-sky-500',\r\n    badgeColor: 'sky',\r\n    dot: 'bg-sky-500'\r\n  },\r\n  {\r\n    key: 'closed',\r\n    label: 'Closed tickets',\r\n    value: 0,\r\n    icon: 'i-lucide-check-circle-2',\r\n    iconBg: 'bg-emerald-500',\r\n    badgeColor: 'emerald',\r\n    dot: 'bg-emerald-500'\r\n  }\r\n])\r\n\r\nlet intervalId: NodeJS.Timeout | null = null\r\n\r\nconst fetchStats = async () => {\r\n  try {\r\n    const [open, pending, closed] = await Promise.all([\r\n      getOpenTickets(),\r\n      getPendingTickets(),\r\n      getClosedTickets()\r\n    ])\r\n\r\n    const openCard = cards.find(c => c.key === 'open')\r\n    if (openCard) openCard.value = open\r\n    \r\n    const pendingCard = cards.find(c => c.key === 'pending')\r\n    if (pendingCard) pendingCard.value = pending\r\n    \r\n    const closedCard = cards.find(c => c.key === 'closed')\r\n    if (closedCard) closedCard.value = closed\r\n  } catch (error) {\r\n    console.error('Failed to fetch stats:', error)\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  fetchStats()\r\n  intervalId = setInterval(fetchStats, 5000)\r\n})\r\n\r\nonUnmounted(() => {\r\n  if (intervalId) clearInterval(intervalId)\r\n})\r\n\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n<template>\r\n\t<section class=\"space-y-4\">\r\n\t\t<div class=\"flex items-center justify-between gap-3\">\r\n\t\t\t<div class=\"space-y-0.5\">\r\n\t\t\t\t<p class=\"text-sm text-muted-500\">Supervisor</p>\r\n\t\t\t\t<h2 class=\"text-lg font-semibold text-gray-900\">Ticket status</h2>\r\n\t\t\t\t<p class=\"text-sm text-muted-500\">Snapshot of tickets by status</p>\r\n\t\t\t</div>\r\n\t\t\t<UBadge color=\"primary\" variant=\"soft\" icon=\"i-lucide-activity\">Live</UBadge>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"grid gap-4 sm:grid-cols-2 xl:grid-cols-3\">\r\n\t\t\t<UCard\r\n\t\t\t\tv-for=\"card in cards\"\r\n\t\t\t\t:key=\"card.key\"\r\n\t\t\t\tclass=\"h-full\"\r\n\t\t\t\t:ui=\"{\r\n\t\t\t\t\tbody: 'flex flex-col gap-3',\r\n\t\t\t\t\tbackground: 'bg-white'\r\n\t\t\t\t}\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"flex items-start justify-between\">\r\n\t\t\t\t\t<div class=\"space-y-1\">\r\n\t\t\t\t\t\t<p class=\"text-xs font-semibold uppercase tracking-wide text-muted-500\">{{ card.label }}</p>\r\n\t\t\t\t\t\t<p class=\"text-3xl font-semibold text-gray-900\">{{ card.value.toLocaleString() }}</p>\r\n\t\t\t\t\t\t<p class=\"text-sm text-muted-500\">{{ card.hint }}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div :class=\"['flex h-12 w-12 items-center justify-center rounded-xl text-white', card.iconBg]\">\r\n\t\t\t\t\t\t<UIcon :name=\"card.icon\" class=\"h-6 w-6\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"flex items-center gap-2 text-sm\">\r\n\t\t\t\t\t<UBadge :color=\"card.badgeColor\" variant=\"soft\" class=\"flex items-center gap-2\">\r\n\t\t\t\t\t\t<span :class=\"['h-2 w-2 rounded-full', card.dot]\"></span>\r\n\t\t\t\t\t\t{{ card.trend }}\r\n\t\t\t\t\t</UBadge>\r\n\t\t\t\t\t<span class=\"text-muted-500\">{{ card.note }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</UCard>\r\n\t\t</div>\r\n\t</section>\r\n</template>\r\n\r\n","<script setup lang=\"ts\">\n</script>\n\n<template>\n  <UDashboardGroup>\n    <Sidebar />\n    <UDashboardPage class=\"flex flex-col flex-1 min-w-0 overflow-hidden\">\n      <Navbar title=\"Dashboard\" icon=\"i-lucide-house\" class=\"w-full\" />\n      <div class=\"flex flex-col flex-1 gap-6 p-6 overflow-auto\">\n        <div class=\"flex items-center justify-between gap-3\">\n          <UDashboardPageHeader title=\"Dashboard\" description=\"Welcome to your dashboard.\" />\n        </div>\n\n        <SupervisorDashboard />\n        \n        <TicketsTable class=\"flex-1 w-full\" :forceStatus=\"'all'\" />\n      </div>\n    </UDashboardPage>\n  </UDashboardGroup>\n</template>\n"],"names":["_ssrRenderAttrs","_mergeProps","_push","_parent","_ssrRenderList","_ssrInterpolate","_ssrRenderClass","_","_scopeId","_createVNode","_toDisplayString","_ssrRenderComponent"],"mappings":"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"}